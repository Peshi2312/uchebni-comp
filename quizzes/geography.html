<!DOCTYPE html>
<html lang="bg">

<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>–ì–µ–æ–≥—Ä–∞—Ñ–∏—è - SoftQuiz</title>
    <link rel="stylesheet" href="../project.css">
    <link rel="stylesheet" href="quiz.css">
</head>

<body>
    <header class="site-header">
        <div class="header-left">
            <img class="site-logo" src="../b_50cfaf10b4a8d8ca72c0074ca7ced57e.png" alt="SoftUni logo">
        </div>
        <nav class="header-nav">
            <a href="../project.html" class="nav-link">HOME</a>
            <a href="../select.html" class="nav-link">–ü–†–ï–î–ú–ï–¢–ò</a>
        </nav>
    </header>
    <main class="quiz-container">
        <div class="quiz-progress">–í—ä–ø—Ä–æ—Å <span id="currentQuestion">1</span> –æ—Ç <span id="totalQuestions">10</span>
        </div>
        <div class="quiz-box">
            <div id="question" class="question">
                <div class="timer">20</div>
                <h2>–ö–æ—è –µ —Å—Ç–æ–ª–∏—Ü–∞—Ç–∞ –Ω–∞ –ë—ä–ª–≥–∞—Ä–∏—è?</h2>
            </div>
            <div class="answers">
                <button class="answer-btn" onclick="checkAnswer(this)" data-correct="true">–°–æ—Ñ–∏—è</button>
                <button class="answer-btn" onclick="checkAnswer(this)">–í–∞—Ä–Ω–∞</button>
                <button class="answer-btn" onclick="checkAnswer(this)">–ü–ª–æ–≤–¥–∏–≤</button>
                <button class="answer-btn" onclick="checkAnswer(this)">–ë—É—Ä–≥–∞—Å</button>
            </div>
            <div class="quiz-actions">
                <button id="hintBtn" class="hint-btn" type="button" onclick="showHint()">üí° –ü–æ–¥—Å–∫–∞–∑–∫–∞</button>
                <button id="nextBtn" class="next-btn" onclick="nextQuestion()" disabled>–°–ª–µ–¥–≤–∞—â –≤—ä–ø—Ä–æ—Å</button>
            </div>
            <div id="hintBox" class="hint-box" aria-live="polite" hidden></div>
        </div>
    </main>
    <script>
        const questions = [
            {
                question: "–ö–æ—è –µ —Å—Ç–æ–ª–∏—Ü–∞—Ç–∞ –Ω–∞ –ë—ä–ª–≥–∞—Ä–∏—è?",
                answers: ["–°–æ—Ñ–∏—è", "–í–∞—Ä–Ω–∞", "–ü–ª–æ–≤–¥–∏–≤", "–ë—É—Ä–≥–∞—Å"],
                correct: 0,
                hint: "–°—Ç–æ–ª–∏—Ü–∞—Ç–∞ –µ –°–æ—Ñ–∏—è ‚Äî –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–∏–≤–Ω–∏—è—Ç —Ü–µ–Ω—Ç—ä—Ä –Ω–∞ –¥—ä—Ä–∂–∞–≤–∞—Ç–∞."
            },
            {
                question: "–ö–æ–π –µ –Ω–∞–π-–≤–∏—Å–æ–∫–∏—è—Ç –≤—Ä—ä—Ö –≤ –ë—ä–ª–≥–∞—Ä–∏—è?",
                answers: ["–í–∏—Ö—Ä–µ–Ω", "–ú—É—Å–∞–ª–∞", "–ë–æ—Ç–µ–≤", "–ß–µ—Ä–Ω–∏ –≤—Ä—ä—Ö"],
                correct: 1,
                hint: "–í—Ä—ä—Ö –ú—É—Å–∞–ª–∞ –≤ –†–∏–ª–∞ –µ –Ω–∞–π-–≤–∏—Å–æ–∫ ‚Äî 2925 –º."
            },
            {
                question: "–ù–∞ –∫–æ–π –∫–æ–Ω—Ç–∏–Ω–µ–Ω—Ç —Å–µ –Ω–∞–º–∏—Ä–∞ –ë—ä–ª–≥–∞—Ä–∏—è?",
                answers: ["–ê–∑–∏—è", "–ê—Ñ—Ä–∏–∫–∞", "–ï–≤—Ä–æ–ø–∞", "–ê–º–µ—Ä–∏–∫–∞"],
                correct: 2,
                hint: "–ë—ä–ª–≥–∞—Ä–∏—è –µ –≤ –ï–≤—Ä–æ–ø–∞."
            },
            {
                question: "–° –∫–æ—è –¥—ä—Ä–∂–∞–≤–∞ –ù–ï –≥—Ä–∞–Ω–∏—á–∏ –ë—ä–ª–≥–∞—Ä–∏—è?",
                answers: ["–ì—ä—Ä—Ü–∏—è", "–†—É–º—ä–Ω–∏—è", "–£–Ω–≥–∞—Ä–∏—è", "–¢—É—Ä—Ü–∏—è"],
                correct: 2,
                hint: "–£–Ω–≥–∞—Ä–∏—è –Ω–µ –µ —Å—ä—Å–µ–¥ ‚Äî –µ –ø–æ-–Ω–∞ —Å–µ–≤–µ—Ä–æ–∑–∞–ø–∞–¥."
            },
            {
                question: "–ö–æ–µ –º–æ—Ä–µ –º–∏–µ –±—Ä–µ–≥–æ–≤–µ—Ç–µ –Ω–∞ –ë—ä–ª–≥–∞—Ä–∏—è?",
                answers: ["–ß–µ—Ä–Ω–æ –º–æ—Ä–µ", "–°—Ä–µ–¥–∏–∑–µ–º–Ω–æ –º–æ—Ä–µ", "–ê–¥—Ä–∏–∞—Ç–∏—á–µ—Å–∫–æ –º–æ—Ä–µ", "–ï–≥–µ–π—Å–∫–æ –º–æ—Ä–µ"],
                correct: 0,
                hint: "–ß–µ—Ä–Ω–æ –º–æ—Ä–µ –≥—Ä–∞–Ω–∏—á–∏ —Å –ë—ä–ª–≥–∞—Ä–∏—è –Ω–∞ –∏–∑—Ç–æ–∫."
            },
            {
                question: "–ö–æ—è –µ –Ω–∞–π-–¥—ä–ª–≥–∞—Ç–∞ —Ä–µ–∫–∞ –≤ –ë—ä–ª–≥–∞—Ä–∏—è?",
                answers: ["–î—É–Ω–∞–≤", "–ú–∞—Ä–∏—Ü–∞", "–ò—Å–∫—ä—Ä", "–°—Ç—Ä—É–º–∞"],
                correct: 0,
                hint: "–î—É–Ω–∞–≤—ä—Ç –º–∏–µ —Å–µ–≤–µ—Ä–Ω–∞—Ç–∞ –≥—Ä–∞–Ω–∏—Ü–∞ –Ω–∞ –ë—ä–ª–≥–∞—Ä–∏—è –∏ –µ –Ω–∞–π-–¥—ä–ª–≥–∞—Ç–∞ —Ä–µ–∫–∞."
            },
            {
                question: "–ö–æ–µ –µ –Ω–∞–π-–≥–æ–ª—è–º–æ—Ç–æ –µ–∑–µ—Ä–æ –≤ –ë—ä–ª–≥–∞—Ä–∏—è?",
                answers: ["–í–∞—Ä–Ω–µ–Ω—Å–∫–æ", "–ë—É—Ä–≥–∞—Å–∫–æ", "–ü–æ–º–æ—Ä–∏–π—Å–∫–æ", "–°—Ä–µ–±—ä—Ä–Ω–∞"],
                correct: 0,
                hint: "–í–∞—Ä–Ω–µ–Ω—Å–∫–æ—Ç–æ –µ–∑–µ—Ä–æ –µ –æ—Ç –≥–æ–ª–µ–º–∏—Ç–µ –∫—Ä–∞–π–º–æ—Ä—Å–∫–∏ –µ–∑–µ—Ä–∞."
            },
            {
                question: "–í –∫–æ—è –ø–ª–∞–Ω–∏–Ω–∞ —Å–µ –Ω–∞–º–∏—Ä–∞ –≤—Ä—ä—Ö –ú—É—Å–∞–ª–∞?",
                answers: ["–ü–∏—Ä–∏–Ω", "–†–∏–ª–∞", "–°—Ç–∞—Ä–∞ –ø–ª–∞–Ω–∏–Ω–∞", "–†–æ–¥–æ–ø–∏"],
                correct: 1,
                hint: "–ú—É—Å–∞–ª–∞ –µ –≤ –ø–ª–∞–Ω–∏–Ω–∞—Ç–∞ –†–∏–ª–∞."
            },
            {
                question: "–ö–æ–π –µ –Ω–∞–π-–≥–æ–ª–µ–º–∏—è—Ç –≥—Ä–∞–¥ –ø–æ –Ω–∞—Å–µ–ª–µ–Ω–∏–µ —Å–ª–µ–¥ –°–æ—Ñ–∏—è?",
                answers: ["–í–∞—Ä–Ω–∞", "–ü–ª–æ–≤–¥–∏–≤", "–ë—É—Ä–≥–∞—Å", "–†—É—Å–µ"],
                correct: 1,
                hint: "–ü–ª–æ–≤–¥–∏–≤ –µ –≤—Ç–æ—Ä–∏—è—Ç –ø–æ –≥–æ–ª–µ–º–∏–Ω–∞ –≥—Ä–∞–¥ –≤ –ë—ä–ª–≥–∞—Ä–∏—è."
            },
            {
                question: "–ü—Ä–µ–∑ –∫–æ—è –ø–ª–∞–Ω–∏–Ω–∞ –º–∏–Ω–∞–≤–∞ –®–∏–ø—á–µ–Ω—Å–∫–∏—è—Ç –ø—Ä–æ—Ö–æ–¥?",
                answers: ["–†–∏–ª–∞", "–ü–∏—Ä–∏–Ω", "–†–æ–¥–æ–ø–∏", "–°—Ç–∞—Ä–∞ –ø–ª–∞–Ω–∏–Ω–∞"],
                correct: 3,
                hint: "–®–∏–ø—á–µ–Ω—Å–∫–∏—è—Ç –ø—Ä–æ—Ö–æ–¥ –µ —á–∞—Å—Ç –æ—Ç –°—Ç–∞—Ä–∞ –ø–ª–∞–Ω–∏–Ω–∞."
            }
        ];

        let currentQuestionIndex = 0;
        let score = 0;
        let timer = null;
        const QUESTION_TIME = 20;

        // Start timer when page loads
        window.onload = () => {
            startTimer();
        };

        function startTimer() {
            clearInterval(timer);
            let timeLeft = QUESTION_TIME;
            const timerElement = document.querySelector('.timer');
            timerElement.textContent = timeLeft;
            timerElement.classList.remove('warning');

            timer = setInterval(() => {
                timeLeft--;
                timerElement.textContent = timeLeft;
                
                if (timeLeft <= 5) {
                    timerElement.classList.add('warning');
                }
                
                if (timeLeft <= 0) {
                    clearInterval(timer);
                    const buttons = document.querySelectorAll('.answer-btn');
                    buttons.forEach(btn => {
                        btn.disabled = true;
                        if (btn.getAttribute('data-correct') === 'true') {
                            btn.classList.add('correct');
                        }
                    });
                    document.getElementById('nextBtn').disabled = false;
                }
            }, 1000);
        }

        function checkAnswer(button) {
            clearInterval(timer);
            const buttons = document.querySelectorAll('.answer-btn');
            buttons.forEach(btn => {
                btn.disabled = true;
                if (btn.getAttribute('data-correct') === 'true') {
                    btn.classList.add('correct');
                }
            });

            const correct = button.getAttribute('data-correct') === 'true';
            if (!correct) {
                button.classList.add('wrong');
            }

            if (correct) {
                score++;
            }

            document.getElementById('nextBtn').disabled = false;
        }

        function nextQuestion() {
            currentQuestionIndex++;
            const questionNum = document.getElementById('currentQuestion');
            questionNum.textContent = currentQuestionIndex + 1;

            if (currentQuestionIndex >= questions.length) {
                showResult();
                return;
            }

            const question = questions[currentQuestionIndex];
            document.querySelector('.question h2').textContent = question.question;

            const buttons = document.querySelectorAll('.answer-btn');
            buttons.forEach((btn, index) => {
                btn.textContent = question.answers[index];
                btn.disabled = false;
                btn.className = 'answer-btn';
                btn.setAttribute('data-correct', index === question.correct);
            });

            // hide hint and update hint text for new question
            const hintBox = document.getElementById('hintBox');
            hintBox.hidden = true;
            hintBox.textContent = question.hint || '';

            document.getElementById('nextBtn').disabled = true;
            startTimer();
        }

        function showHint() {
            const hintBox = document.getElementById('hintBox');
            const question = questions[currentQuestionIndex];
            hintBox.textContent = question.hint || '–ù—è–º–∞ –Ω–∞–ª–∏—á–µ–Ω —Ö–∏–Ω—Ç.';
            hintBox.hidden = false;
        }

        function calculateGrade(score, total) {
            const percentage = (score / total) * 100;
            if (percentage >= 90) return "–û—Ç–ª–∏—á–µ–Ω 6";
            if (percentage >= 80) return "–ú–Ω–æ–≥–æ –¥–æ–±—ä—Ä 5";
            if (percentage >= 70) return "–î–æ–±—ä—Ä 4";
            if (percentage >= 60) return "–°—Ä–µ–¥–µ–Ω 3";
            return "–°–ª–∞–± 2";
        }

        function showResult() {
            const quizBox = document.querySelector('.quiz-box');
            const grade = calculateGrade(score, questions.length);
            const percentage = Math.round((score / questions.length) * 100);
            
            quizBox.innerHTML = `
                <div class="result">
                    <h2>–†–µ–∑—É–ª—Ç–∞—Ç: ${score} –æ—Ç ${questions.length}</h2>
                    <div class="grade-box">
                        <p class="percentage">${percentage}% –≤–µ—Ä–Ω–∏ –æ—Ç–≥–æ–≤–æ—Ä–∏</p>
                        <p class="final-grade">–ö—Ä–∞–π–Ω–∞ –æ—Ü–µ–Ω–∫–∞: ${grade}</p>
                    </div>
                    <button class="restart-btn" onclick="location.reload()">–û–ø–∏—Ç–∞–π –ø–∞–∫</button>
                    <a href="../select.html" class="back-btn">–ò–∑–±–µ—Ä–∏ –¥—Ä—É–≥ –ø—Ä–µ–¥–º–µ—Ç</a>
                </div>
            `;
        }
    </script>
</body>

</html>